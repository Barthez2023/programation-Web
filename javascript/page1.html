<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Apprentissage de javascript</h1>
</body>
<script>
    alert("page1");
    // Definitions des objects eb javascript
    var primitive="Je suis une variable primitive";   // les primitive sont des sortes de variable simple elles ne peuvent pas contenir des methodes justes des valeurs simples comme des chaines de caractere, des nombres, des booleens etc...
    var obj={              //varaible de type object
        nom:"Doe",
        prenom:"John",
        age:30,


        identite : function(){  //methode       ici identite  est une propriete de l'objet obj
            return "Prenom "+this.prenom + " " + "Nom "+this.nom+" a "+ this.age + " ans.";
        }
    }
    alert(obj.identite());

    var type_primitif=typeof(primitive);
    var chaine=new String("Je suis une chaine de caractere");
    var type_chaine=typeof(chaine);

    var longueur_primitive=primitive.length;  //propriete length pour connaitre la longueur d'une chaine de caractere
    var prim_majuscule=primitive.toUpperCase(); // methode toUpperCase pour mettre en majuscule une chaine de caractere
    alert("Longueur de la variable primitive : "+longueur_primitive +"\n"+ prim_majuscule);
    
    var longueur_chaine=chaine.length;
    var chaine_majuscule=chaine.toUpperCase();
    alert("Longueur de la variable chaine : "+longueur_chaine +"\n"+ chaine_majuscule);
    // La grande difference entre une variable primitive et une variable de type chaine est que on peut comparer les variables primitives entre elles mais pas les variables de type chaine


    //creation d'un constructeur d'objet
    function Personne(nom,prenom,age){
        this.nom=nom;
        this.prenom=prenom;
        this.age=age;
        /*this.identite=function(){
            return "Prenom "+this.prenom + " " + "Nom "+this.nom+" a "+ this.age + " ans.";
        }*/
    }
    var per1=new Personne("Doe","John",30);
    var per2=new Personne("Smith","Jane",25);
    alert("Personne1 :"+per1.prenom + " " + per1.nom + " a " + per1.age + " ans.");
    alert("Personne2 :"+per2.prenom + " " + per2.nom + " a " + per2.age + " ans.");


    var number=10.42567;
    var arrondi=number.toFixed(2); // methode toFixed pour arrondir un nombre a un certain nombre de chiffre apres la virgule ici cela arrondi a 2 chiffre apres la virgule et retourne une chaine de caractere
    alert("Nombre avant arrondi : "+number + "\n" + "Nombre apres arrondi : "+arrondi);

    /*
     - toPrecision(n) : methode pour arrondir un nombre a n chiffre significatif et retourne une chaine de caractere
     - toExponential(n) : methode pour afficher un nombre en notation exponentielle avec n chiffre apres la virgule et retourne une chaine de caractere en quelle sorte donne la valeur en puissance de 10
     la forme scientifique d'un nombre .
     -parseInt() : methode pour convertir une chaine de caractere en entier
     -parseFloat() : methode pour convertir une chaine de caractere en nombre a virgule flottante
    */


    //creation d'un tableau
    var fruits=["pomme","banane","orange"];
    alert("Premier fruit : "+fruits[0]); //acces au premier element du tableau
    alert("Nombre de fruits : "+fruits.length); //propriete length pour connaitre


    //pour ajouter ou supprimer un element en fin d'un un tableau on utilise les methodes push() et pop()
    fruits.push("kiwi"); //ajout d'un element en fin du tableau
    alert("Fruits apres ajout : "+fruits);
    var fruit_supprime=fruits.pop(); //suppression du dernier element du tableau et retourne l'element supprime 
    alert("Fruit supprime : "+fruit_supprime + "\n" + "Fruits apres suppression : "+fruits);

    //pour ajouter ou supprimer un element au debut d'un tableau on utilise les methodes unshift() et shift()
    fruits.unshift("fraise"); //ajout d'un element au debut du tableau
    alert("Fruits apres ajout au debut : "+fruits);
    var fruit_supprime_debut=fruits.shift(); //suppression du premier element du
    alert("Fruit supprime au debut : "+fruit_supprime_debut + "\n" + "Fruits apres suppression au debut : "+fruits);
    //pour supprimer un ou plusieurs element a une position donnee on utilise la methode splice(index,nb_element_a_supprimer,element1,element2,...)
    fruits.splice(1,1); //suppression d'un element a l'index 1
    alert("Fruits apres suppression a l'index 1 : "+fruits);
    fruits.splice(1,0,"mangue","ananas"); //ajout de deux element a l'index 1
    alert("Fruits apres ajout a l'index 1 : "+fruits);
    //pour extraire une partie d'un tableau on utilise la methode slice(index_debut,index_fin)
    var agrumes=fruits.slice(1,3); //extraction des elements de l'index 1 a l'index 3 (3 non inclus)
    alert("Agrumes : "+agrumes);
    //pour concatener deux tableaux on utilise la methode concat()
    var legumes=["carotte","tomate"];
    var aliments=fruits.concat(legumes); //concatener les tableaux fruits et legumes
    alert("Aliments : "+aliments);
    //pour trier un tableau on utilise la methode sort()
    aliments.sort(); //tri des elements du tableau aliments par ordre alphabetique
    alert("Aliments tries : "+aliments);
    //pour inverser l'ordre des elements d'un tableau on utilise la methode reverse()
    aliments.reverse(); //inversion de l'ordre des elements du tableau aliments
    alert("Aliments inverses : "+aliments);
    //pour rechercher un element dans un tableau on utilise la methode indexOf(element) qui retourne l'index de l'element recherche ou -1 si l'element n'est pas trouve
    var index=aliments.indexOf("banane"); //recherche de l'element "banane" dans le tableau aliments
    alert("Index de la banane : "+index);
    //pour parcourir les elements d'un tableau on utilise la boucle for
    var liste_fruits="Liste des fruits :\n";
    for(var i=0;i<fruits.length;i++){
        liste_fruits+=fruits[i]+"\n";
    }
    alert(liste_fruits);

    var d=new Date(); //creation d'un objet date
    console.log(d);
    var jour=d.getDate(); //methode getDate() pour obtenir le jour du mois
    var mois=d.getMonth()+1; //methode getMonth() pour obtenir le mois (0-11) donc on ajoute 1
    var annee=d.getFullYear(); //methode getFullYear() pour obtenir l'annee
    alert("Date actuelle : "+jour+"/"+mois+"/"+annee);
    var heures=d.getHours(); //methode getHours() pour obtenir les heures
    var minutes=d.getMinutes(); //methode getMinutes() pour obtenir les minutes
    var secondes=d.getSeconds(); //methode getSeconds() pour obtenir les secondes
    alert("Heure actuelle : "+heures+"h:"+minutes+"m:"+secondes+"s");
    //pour definir une date precise on utilise le constructeur Date(annee,mois,jour,heures,minutes,secondes)
    var date_precise=new Date(2023,11,25,10,30,0); //25 decembre 2023 a 10h30
    alert("Date precise : "+date_precise);
    //pour formater une date on utilise les methodes toLocaleDateString() et toLocaleTimeString()
    var date_formatee=date_precise.toLocaleDateString("fr-FR"); //format jj/mm/aaaa
    var heure_formatee=date_precise.toLocaleTimeString("fr-FR"); //format hh:mm:ss
    alert("Date formatee : "+date_formatee + "\n" + "Heure formatee : "+heure_formatee);
    //pour obtenir le timestamp (nombre de millisecondes ecoulees depuis le 1er janvier 1970) on utilise la methode getTime()
    var timestamp=date_precise.getTime();
    alert("Timestamp : "+timestamp);
    //pour effectuer des operations sur les dates on utilise les methodes setDate(), setMonth(), setFullYear(), setHours(), setMinutes(), setSeconds()
    date_precise.setDate(31); //changer le jour du mois a 31
    date_precise.setMonth(11); //changer le mois a decembre (11)
    date_precise.setFullYear(2024); //changer l'annee a 2024
    date_precise.setHours(15); //changer les heures a 15
    date_precise.setMinutes(45); //changer les minutes a 45
    date_precise.setSeconds(0); //changer les secondes a 0
    alert("Date precise modifiee : "+date_precise);

    var x=675.25412
    var y=Math.round(x); //methode round pour arrondir un nombre a l'entier le plus proche
    alert("Nombre avant arrondi : "+x + "\n" + "Nombre apres arrondi : "+y);
    var a=5.789
    var b=Math.floor(a); //methode floor pour arrondir un nombre a l'entier inferieur
    alert("Nombre avant arrondi : "+a + "\n" + "Nombre apres arrondi : "+b);
    var c=5.123 
    var d=Math.ceil(c); //methode ceil pour arrondir un nombre a l'entier superieur
    alert("Nombre avant arrondi : "+c + "\n" + "Nombre apres arrondi : "+d);
    var e=16
    var f=Math.sqrt(e); //methode sqrt pour calculer la racine carree d'un nombre
    alert("Racine carree de "+e+" est : "+f);
    var g=3
    var h=Math.pow(g,3); //methode pow pour calculer la puissance d'un nombre ici 3 puissance 3
    alert(g+" puissance 3 est : "+h);   
    var min=Math.min(5,10,2,8); //methode min pour obtenir le plus petit nombre parmi une liste de nombres
    var max=Math.max(5,10,2,8); //methode max pour obtenir le plus grand nombre parmi une liste de nombres
    alert("Plus petit nombre est : "+min + "\n" + "Plus grand nombre est : "+max);
    var random=Math.random(); //methode random pour generer un nombre aleatoire entre   0 et 1
    alert("Nombre aleatoire entre 0 et 1 : "+random);
    var random_entre_1_et_100=Math.floor(Math.random()*100)+1; //generer un nombre aleatoire entre 1 et 100
    alert("Nombre aleatoire entre 1 et 100 : "+random_entre_1_et_100);


    //les fonction anonymes en javascript
    var addition=function(a,b){ //fonction anonyme affectee a une variable
        return a+b;
    }
    var resultat=addition(5,10);
    alert("Resultat de l'addition : "+resultat);

    //les fonctions fleche en javascript
    var multiplication=(a,b)=>{ //fonction fleche affectee a une variable 
        return a*b;
    }
    var resultat_mult=multiplication(5,10);
    alert("Resultat de la multiplication : "+resultat_mult);

    //les fonctions fleche avec un seul parametre
    var carre=x=>{ //fonction fleche avec un seul parametre
        return x*x;
    }   
    var resultat_carre=carre(5);
    alert("Resultat du carre : "+resultat_carre);

    //les fonctions fleche avec un seul parametre et une seule instruction
    var double=x=>x*2; //fonction fleche avec un seul parametre et une seule instruction
    var resultat_double=double(5);
    alert("Resultat du double : "+resultat_double);



    //prompt pour demander une saisie a l'utilisateur
    var nom_utilisateur=prompt("Entrez votre nom :");

    //les fonction auto invoquees en javascript
    (function(nom){
        alert("Bonjour "+nom);
    })(nom_utilisateur); //appel de la fonction auto invoquee avec le nom saisi par l'utilisateur

    // les closures
    function computer(){
        var i=0;

        return function () {
            return i+1;
        }
    }

    var plush=Personne();
    var autre_Instance=Personne();
    alert("Premier tour :"+ plush()+
          "\nDeuxime tour :"+ plush()+
          "\nPremier tour autre_Instance tour :"+ plush()+
          "\nTroisieme tour :"+ plush()
        )
    //chaque appel à Personne() crée une nouvelle instance indépendante avec son propre état (ici un compteur).    





</script>
</html>